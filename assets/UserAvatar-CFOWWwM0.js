import{_ as k}from"./PageContainer-B_cvmkPd.js";import{u as w,r as _,o as r,c as E,b as a,d as o,z as u,e as i,f as d,bO as y,E as h,aU as S,bP as x,p as A,k as B,g as C}from"./index-BjvqFmZ7.js";import{a as R,E as I}from"./el-col-oBafxlhp.js";import{_ as N,E as z}from"./_plugin-vue_export-helper-6GWoQ4SI.js";import{E as V}from"./el-progress-CZoxVgTo.js";/* empty css                   */import"./_baseClone-PeLPKmq1.js";import"./isEqual-9JyqkaLo.js";const F="/assets/avatar-CQlNaQTu.jpg",Q=t=>(A("data-v-66f9bbfb"),t=t(),B(),t),T=["src"],$={key:1,src:F,width:"278"},j=Q(()=>C("br",null,null,-1)),q={__name:"UserAvatar",setup(t){const l=w(),s=_(l.user.user_pic),c=_(),f=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},m=async()=>{await y(s.value),await l.getUser(),h({type:"success",message:"更换头像成功"})};return(n,e)=>{const v=V,p=z,g=R,b=I,U=k;return r(),E(U,{title:"更换头像"},{default:a(()=>[o(b,null,{default:a(()=>[o(g,{span:12},{default:a(()=>[o(v,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":f},{default:a(()=>[s.value?(r(),u("img",{key:0,src:s.value,class:"avatar"},null,8,T)):(r(),u("img",$))]),_:1},512),j,o(p,{onClick:e[0]||(e[0]=D=>c.value.$el.querySelector("input").click()),type:"primary",icon:i(S),size:"large"},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),o(p,{type:"success",icon:i(x),size:"large",onClick:m},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},W=N(q,[["__scopeId","data-v-66f9bbfb"]]);export{W as default};
